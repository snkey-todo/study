# 近距离通信协议：RFID

RFID的空中接口通信协议规范基本决定了RFID的工作类型，RFID读写器和相应类型RFID标签之间的通讯规则，包括：频率、调制、位编码及命令集。

ISO/IEC制定五种频段的空中接口协议：

（1）ISO/IEC 18000-1《信息技术－基于单品管理的射频识别－第1部分：参考结构和标准化的参数定义》。它规范空中接口通信协议中共同遵守的读写器与标签的通信参数表、知识产权基本规则等内容。这样每一个频段对应的标准不需要对相同内容进行重复规定。
（2）ISO/IEC 18000-2《信息技术－基于单品管理的射频识别－第2部分：135KHz以下的空中接口通信用参数》。它规定在标签和读写器之间通信的物理接口，读写器应具有与Type A(FDX)和Type B(HDX)标签通信的能力；规定协议和指令再加上多标签通信的防碰撞方法。
（3）ISO/IEC 18000-3《信息技术－基于单品管理的射频识别－第3部分：参数空中接口通信在13.56MHz》。它规定读写器与标签之间的物理接口、协议和命令再加上防碰撞方法。关于防碰撞协议可以分为两种模式，而模式1又分为基本型与两种扩展型协议（无时隙无终止多应答器协议和时隙终止自适应轮询多应答器读取协议）。模式2采用时频复用FTDMA协议，共有8个信道，适用于标签数量较多的情形。
（4）ISO/IEC 18000-4《信息技术－基于单品管理的射频识别－第4部分：2.45 GHz空中接口通信用参数》。它规定读写器与标签之间的物理接口、协议和命令再加上防碰撞方法。该标准包括两种模式，模式1是无源标签工作方式是读写器先讲；模式2是有源标签，工作方式是标签先讲。
（5）ISO/IEC 18000-6《信息技术－基于单品管理的射频识别－第6部分：860 MHz - 960 MHz空中接口通信参数》。它规定读写器与标签之间的物理接口、协议和命令再加上防碰撞方法。它包含TypeA、TypeB和TypeC三种无源标签的接口协议，通信距离最远可以达到10m。其中TypeC是由EPCglobal起草的，并于2006年7月获得批准，它在识别速度、读写速度、数据容量、防碰撞、信息安全、频段适应能力、抗干扰等方面有较大提高。2006年递交V4.0草案，它针对带辅助电源和传感器电子标签的特点进行扩展，包括标签数据存储方式和交互命令。带电池的主动式标签可以提供较大范围的读取能力和更强的通信可靠性，不过其尺寸较大，价格也更贵一些。
（6）ISO/IEC 18000-7《信息技术－基于单品管理的射频识别－第7部分：433 MHz有源空中接口通信参数》。它规定读写器与标签之间的物理接口、协议和命令再加上防碰撞方法。有源标签识读范围大，适用于大型固定资产的跟踪。属于有源电子标签。

此外，还有3个常用的RFID协议，如下所示
（1）ISO/IEC 14443《识别卡—无触点集成电路卡—邻近卡》。国际标准ISO 14443定义了两种信号接口：TypeA和TypeB。ISO 14443A和B互不兼容。

> ISO 14443 TypeA。ISO 14443 TypeA (也称ISO 14443A)一般用于门禁卡、公交卡和小额储值消费卡等，具有较高的市场占有率。
举例：
1）MIFARE ULtralight(MFO ICU1X):国内常称U10。此芯片没有加密功能，只能系统加密，内存是64个字节，典型应用：广深高速火车票。(另：MIFARE ULtralight C，也叫U20，此芯片可以加密，内存是192个字节)。这两个芯片的内码位数都是一样的，不过内码数据时不同的。(国内兼容芯片有FM11RF005内存64个字节、BL75R12内存64个字节等)
2）MIFARE Std 1k(MF1 IC S50)：国内常称MF1 S50。主要应用在一卡通方面。内存1KB，有16个扇区，每个扇区有4个块，每个块16个字节。初始密码是12个F。(国内兼容芯片有FM11R08、ISSI4439、TKS50、BL75R06等)
3）MIFARE Std 4k(MF1 IC S70)：国内常称为MF1 S70。主要应用在一卡通方面。内存4KB，共40个扇区，前面32个扇区跟S50一样，每个扇区有4个块，后面8个扇区是16个块，每个块都是16个字节。初始密码是12个F。(国内兼容芯片有ISSI4469、FM11RF32以及华大的S70)。
4）Mifare DESFire 4k(MF3 IC D41/D40)：国内常称为MF3。典型应用：南京地铁。
5）SHC1102：上海华虹生产。典型应用：上海一卡通。

>ISO 14443 TypeB。ISO14443B由于加密系数比较高，更适合于CPU卡，一般用于身份证、护照、银联卡等，目前的第二代电子身份证采用的标准是ISO 14443 TypeB协议。
举例：
1）SR176：瑞士意法半导体(ST)生产。
2）SRIX4K：瑞士意法半导体(ST)生产。
3）THR1064:北京同方生产。典型应用：奥运门票。
4）AT88RF020:美国爱特梅尔(ATMIL)生产。典型应用：广州地铁卡。
5）第二代居民身份证：上海华虹、北京同方THR9904、天津大塘和北京华大生产。

（2）ISO/IEC 15693《识别卡—无接触点集成电路卡—近距卡》
ISO 14443A/B的读写距离通常在10cm以内，应用较广。但ISO 15693的读写距离可以达到1m，应用较灵活，与ISO 18000-3兼容(我国的国家标准很多与ISO 18000大部分兼容)。

>举例：
1）ICODE SLI(SL2ICS20):国内常称ICODE 2(内存是1Kbit)，此型号常用。国内兼容有BL75R05、FM1302N。(另：ICODE SLI-S内存是2048bit，ICODE SLI-L内存是512bit，这两款芯片在国内不常用。)
2）Tag-it HF-1 Plus:国内常称Tl2048,美国德州仪器公司(简称TI公司)生产。
3）EM4135：瑞士EM生产。
4）BL75R04：上海贝岭生产以及FM1302T(复旦生产)，兼容TI公司的Tag-it HF-1 Plus。

（3）ISO 18092《信息技术系统间近距离无线通信及信息交换的接口和协议》
NFC协议，对近距离无线通信技术进行了一些规范。NFC属于RFID范畴，但又与RFID有一些区别，因此本文将单独一小节对NFC进行阐述。
