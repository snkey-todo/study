---
title: 阿里物联网云平台01-产品简介
date: 2019-03-25 19:46:49
tags: ["阿里", "物联网云平台"]
---
# 阿里物联网云平台01-产品简介

[阿里物联网云平台后台](https://iot.console.aliyun.com/product)

![image](https://raw.githubusercontent.com/zhusheng/blog/master/iot/01.png)

[阿里物联网云平台文档](https://help.aliyun.com/document_detail/30522.html?spm=5176.229363.1219931.1.7cb41449MXZMM2)

## 什么是阿里物联网云平台

阿里云物联网平台为设备提供安全可靠的连接通信能力，向下连接海量设备，支撑设备数据采集上云；
向上提供云端API，指令数据通过API调用下发至设备端，实现远程控制。
此外，物联网平台也提供了其他增值能力，如设备管理、规则引擎、数据分析、边缘计算等，为各类IoT场景和行业开发者赋能。

物联网平台的主要能力包括：

1. 设备接入
2. 设备管理
3. 安全能力
4. 规则引擎
5. 数据分析
6. 边缘计算

（1）设备接入

物联网平台支持海量设备连接上云，设备与云端通过IoT Hub进行稳定可靠地双向通信。

- 提供设备端SDK、驱动、软件包等帮助不同设备、网关轻松接入阿里云。
- 提供2G 3G 4G、NB-IoT、LoRa、WiFi等不同网络设备接入方案，解决企业异构网络设备接入管理痛点。
- 提供MQTT、CoAP、HTTP/S等多种协议的设备端SDK，既满足长连接的实时性需求，也满足短连接的低功耗需求。
- 开源多种平台设备端代码，提供跨平台移植指导，赋能企业基于多种平台做设备接入。

（2）设备管理

提供完整的设备生命周期管理功能，支持设备注册、功能定义、数据解析、在线调试、远程配置、固件升级、远程维护、实时监控、分组管理、设备删除等功能。

- 提供设备物模型，简化应用开发。
- 提供设备上下线变更通知服务，方便实时获取设备状态。
- 提供数据存储能力，方便用户海量设备数据的存储及实时访问。
- 支持OTA升级，赋能设备远程升级。
- 提供设备影子缓存机制，将设备与应用解耦，解决不稳定无线网络下的通信不可靠痛点。

（3）安全能力

阿里云物联网平台提供多重防护有效保障设备云端安全。

（a）身份认证

- 提供芯片级安全存储方案（ID²）及设备秘钥安全管理机制，防止设备密钥被破解。安全级别很高。
- 提供一机一密的设备认证机制，降低设备被攻破的安全风险，适合有能力批量预分配ID密钥烧入到每个芯片的设备。安全级别高。
- 提供一型一密的设备预烧，认证时动态获取设备证书（包括ProductKey、DeviceName和DeviceSecret），适合批量生产时无法将设备证书烧入每个设备的情况。安全级别普通。

（b）通信安全

- 支持TLS（MQTT\HTTP）、DTLS(CoAP)数据传输通道，保证数据的机密性和完整性，适用于硬件资源充足、对功耗不是很敏感的设备。安全级别高。
- 支持TCP(MQTT)、UDP(CoAP)上自定义数据对称加密通道，适用于资源受限、功耗敏感的设备。安全级别普通。
- 支持设备权限管理机制，保障设备与云端安全通信。
- 支持设备级别的通信资源（Topic等）隔离，防止设备越权等问题。

（4）规则引擎

规则引擎提供数据流转和场景联动功能。配置简单规则，即可将设备数据无缝流转至其他设备，实现设备联动；或者流转至其他云产品，获得存储、计算等更多服务。使用规则引擎，您可以：

- 配置规则实现设备与设备之间的通信，快速实现M2M场景。
- 将数据转发到消息队列（MQ）中，保障应用消费设备数据的稳定可靠性。
- 将数据转发到表格存储（Table Store），提供设备数据采集 + 结构化存储的联合方案。
- 将数据转发到流计算（StreamCompute）中，提供设备数据采集 + 流式计算的联合方案。
- 将数据转发到TSDB，提供设备数据采集 + 时序数据存储的联合方案。
- 将数据转发到函数计算中，提供设备数据采集 + 事件计算的联合方案。

（5）数据分析
物联网平台提供包括空间数据可视化和流计算在内的数据分析服务。您可以：

- 导入二维地图或三维模型，绑定真实设备，实现设备数据在二维/三维空间上的可视化。
- 通过拖拽流计算组件，编排流计算任务，轻松完成数据分析与处理。

（6）边缘计算
物联网平台提供边缘计算能力，支持在离设备最近的位置构建边缘计算节点，过滤清洗设备数据，并将处理后的数据上传至云平台。

- 在断网或弱网情况下，边缘计算可缓存设备数据，网络恢复后，自动将数据同步至云端。
- 提供多种业务逻辑的开发和运行框架，包括场景联动、函数计算和流式计算，各框架均支持云端开发、动态部署。

## 产品架构

![image](https://raw.githubusercontent.com/zhusheng/blog/master/iot/16.png)

解释说明：

(1)IoT SDK

物联网平台提供IoT SDK，设备集成SDK后，即可安全接入IoT Hub，使用设备管理、数据分析、规则引擎等功能。
只有支持TCP/IP协议的设备可以集成IoT SDK。

(2)IoT Hub

oT Hub帮助设备连接阿里云IoT服务，是设备与云端安全通信的数据通道。IoT Hub支持PUB/SUB与RRPC两种通信方式，其中PUB/SUB是基于Topic进行的消息路由。

IoT Hub具有下列特性：
- 高性能扩展：支持线性动态扩展，可以支撑十亿设备同时连接。
- 全链路加密：整个通信链路以RSA，AES加密，保证数据传输的安全。
- 消息实时到达：当设备与IoT Hub成功建立数据通道后，两者间将保持长连接，以减少握手时间，保证消息实时到达。
- 支持数据透传： IoT Hub支持将数据以二进制透传的方式传到自己的服务器上，不保存设备数据，从而保证数据的安全可控性。
- 支持多种通信模式：IoT Hub支持RRPC和PUB/SUB两种通信模式，以满足您在不同场景下的需求。
- 支持多种设备接入协议：支持设备使用CoAP、MQTT、HTTPS协议接入物联网平台。

## 名词解释

https://help.aliyun.com/document_detail/30524.html?spm=a2c4g.11186623.6.545.27be3055zhtFzE

1、产品

设备的集合，通常指一组具有相同功能的设备。物联网平台为每个产品颁发全局唯一的ProductKey。每个产品下可以有成千上万的设备。

2、设备

归属于某个产品下的具体设备。物联网平台为设备颁发产品内唯一的证书DeviceName。
设备可以直接连接物联网平台，也可以作为子设备通过网关连接物联网平台。

3、网关

能够直接连接物联网平台的设备，且具有子设备管理功能，能够代理子设备连接云端。

4、子设备

本质上也是设备。子设备不能直接连接物联网平台，只能通过网关连接。

5、设备证书

设备证书指ProductKey、ProductSecret、DeviceName、DeviceSecret。
- ProductKey：**是物联网平台为产品颁发的全局唯一标识**。该参数很重要，在设备认证以及通信中都会用到，因此需要您保管好。
- ProductSecret：由物联网平台颁发的产品密钥，**通常与ProductKey成对出现**，可用于一型一密的认证方案。该参数很重要，需要您保管好，不能泄露。
- DeviceName：在注册设备时，自定义的或自动生成的设备名称，具备**产品维度内的唯一性**。该参数很重要，在设备认证以及通信中都会用到，因此需要您保管好。
- DeviceSecret：物联网平台为设备颁发的设备密钥，**和DeviceName成对出现**。该参数很重要，在设备认证时会用到，因此需要您保管好并且不能泄露。

6、topic

消息发布和订阅。

同一产品下不同设备的Topic集合，用${productkey}和${deviceName}通配一个唯一的设备，一个Topic类对一个ProductKey下所有设备通用。

7、RRPC

全称：Revert-RPC。RPC（Remote Procedure Call）采用客户机/服务器模式，用户不需要了解底层技术协议，即可远程请求服务。RRPC则可以实现由服务端请求设备端并能够使设备端响应的功能。

8、标签

标签分为产品标签和设备标签。
- 产品标签：描述同一个产品下，所有设备所具有的共性信息。
- 设备标签：通常根据设备的特性为设备添加的特有的标记，您可灵活自定义标签内容。

9、物模型

**是对设备在云端的功能描述，包括设备的属性、服务和事件**。
物联网平台通过定义一种物的描述语言来描述物模型，称之为 TSL（即 Thing Specification Language），采用JSON格式，您可以根据TSL**组装上报设备的数据**。

1）属性

设备的功能模型之一，一般用于描述设备运行时的状态，如环境监测设备所读取的当前环境温度等。
属性支持 GET 和 SET 请求方式。**应用系统可发起对属性的读取和设置请求**。

2）服务

设备的功能模型之一，设备可被外部调用的能力或方法，可设置输入参数和输出参数。
相比于属性，**服务可通过一条指令实现更复杂的业务逻辑，如执行某项特定的任务**。

3）事件

设备的功能模型之一，设备运行时的事件，事件一般包含需要被外部感知和处理的通知信息，可包含多个输出参数。
如，某项任务完成的信息，或者设备发生故障或告警时的温度等，事件可以被订阅和推送。

10、设备影子

**是一个 JSON 文档，用于存储设备或者应用的当前状态信息**。
每个设备都会在云端有唯一的设备影子对应，无论该设备是否连接到 Internet，您都可以使用设备影子通过 MQTT 协议或 HTTP 协议获取和设置设备的状态。

11、规则引擎

提供类SQL语言的规则引擎，**帮助您对Topic中的数据进行过滤，并能够将处理后的数据发送到阿里云其他服务**，例如MNS、Table Store、DataHub等等。

